<!DOCTYPE html>
<html>
<head>
    <title>Didit Detail</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../css/views/userHomeView.css"/>
    <link rel="stylesheet" href="../css/views/ListVNearbyDidits.css"/>

    <link rel="stylesheet" href="../libs/jquery.mobile-1.3.1/css/jquery.mobile-1.3.1.min.css"/>
    <script src="../libs/jquery-1.9.1/js/jquery-1.9.1.js"></script>
    <script src="../libs/jquery.mobile-1.3.1/js/jquery.mobile-1.3.1.min.js"></script>

    <script type="text/javascript" src="../phonegap.js"></script>
    <script type="text/javascript" src="../plugins/MapKit.js"></script>
    <script type="text/javascript" src="../plugins/applicationPreferences.js"></script>
    <script type="text/javascript" src="../plugins/barcodescanner.js"></script>

    <script src="../libs/core/restCore.js"></script>
    <script src="../libs/core/diditsDB.js"></script>
    <script src="../libs/core/listGenerator.js"></script>
    <script src="../libs/core/distanceCalculator.js"></script>
    <script src="../libs/core/pinGenerator.js"></script>
    <script src="../libs/core/mapUtility.js"></script>
</head>
<body onload="pageLoad()">
<!-- Home -->
<div data-role="page" id="page1">
    <div data-theme="a" data-role="header">
        <h3>
            Didit
        </h3>
        <a data-role="button" data-rel="back" href="#page1" data-icon="arrow-l"
           data-iconpos="left" class="ui-btn-left">
            Back
        </a>
    </div>
    <div data-role="content">
        <h2 id="didits-name">
            &lt;Name&gt;
        </h2>

        <div data-role="fieldcontain">
            <label for="didit-state">
                Owned:
            </label>
            <select name="toggleswitch1" id="didit-state" data-theme="a" data-role="slider"
                    data-mini="true">
                <option value="off">
                    No
                </option>
                <option value="on">
                    Yes
                </option>
            </select>
        </div>
        <div data-role="collapsible-set" data-theme="a" data-content-theme="a">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    Map
                </h3>
                <img id="didit-map"
                     src="https://maps.googleapis.com/maps/api/staticmap?center=Madison, WI&amp;zoom=14&amp;size=260x200&amp;markers=Madison, WI&amp;sensor=false"
                     width="260" height="200">
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            diditsDB.findDiditById(parseInt(localStorage.diditId), function (didit) {
                $('#didits-name').text(didit.city);
                $('#didit-map').attr("src", "http://maps.googleapis.com/maps/api/staticmap?center=" + didit.latitude
                        + "," + didit.longitude + "&zoom=15&size=400x400&sensor=false");
            });
        });
    </script>

</div>
</body>
</html>

